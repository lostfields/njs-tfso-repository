{"version":3,"file":"orderbyoperator.js","sourceRoot":"","sources":["../../../src/linq/operators/orderbyoperator.ts"],"names":[],"mappings":";;AAAA,yCAAoD;AACpD,0EAA8I;AAE9I,qBAAsC,SAAQ,mBAAiB;IAG3D,YAAmB,QAA+B;QAC9C,KAAK,CAAC,uBAAY,CAAC,OAAO,CAAC,CAAC;QADb,aAAQ,GAAR,QAAQ,CAAuB;QAG9C,IAAI,CAAC,WAAW,GAAG,IAAI,qCAAiB,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IACrE,CAAC;IAEM,QAAQ,CAAC,KAAgB;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,kCAAc,CAAC,MAAM,CAAC;YAC/C,MAAM,IAAI,SAAS,CAAC,6DAA6D,CAAC,CAAC;QAEvF,IAAI,cAAc,GAAoC,IAAI,CAAC,WAAY,CAAC,QAAQ,EAC5E,QAA+B,CAAC;QAEpC,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,IAAI,kCAAc,CAAC,UAAU,CAAC;YACjD,MAAM,IAAI,SAAS,CAAC,6DAA6D,CAAC,CAAC;QAEvF,QAAQ,GAA0B,cAAc,CAAC;QAEjD,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YACZ,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACnG,CAAC,CAAC,CAAA;QAEF,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CACJ;AA3BD,0CA2BC","sourcesContent":["import { Operator, OperatorType } from './operator';\r\nimport { ExpressionVisitor, IExpression, ExpressionType, IMemberExpression, IIdentifierExpression } from './../expressions/expressionvisitor';\r\n\r\nexport class OrderByOperator<TEntity> extends Operator<TEntity> {\r\n    private _expression: IExpression;\r\n\r\n    constructor(public property: (it: TEntity) => void) {\r\n        super(OperatorType.OrderBy);\r\n\r\n        this._expression = new ExpressionVisitor().visitLambda(property);\r\n    }\r\n\r\n    public evaluate(items: TEntity[]): TEntity[] {\r\n        if (this._expression.type != ExpressionType.Member)\r\n            throw new TypeError('Order by is expecting a member property as sorting property');\r\n\r\n        var memberProperty: IExpression = (<IMemberExpression>this._expression).property,\r\n            property: IIdentifierExpression;\r\n\r\n        if (memberProperty.type != ExpressionType.Identifier)\r\n            throw new TypeError('Order by is expecting a member property as sorting property');\r\n\r\n        property = <IIdentifierExpression>memberProperty;\r\n\r\n        items.sort((a, b) => {\r\n            return a[property.name] == b[property.name] ? 0 : a[property.name] < b[property.name] ? -1 : 1;\r\n        })\r\n\r\n        return items;\r\n    }\r\n}"]}